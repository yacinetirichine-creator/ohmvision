# ═══════════════════════════════════════════════════════════════════════════
# OhmVision Platform - Configuration Railway
# ═══════════════════════════════════════════════════════════════════════════
# Copiez ce fichier vers .env ou utilisez-le comme référence pour Railway
#
# RAILWAY: Dans le Dashboard → Variables, ajoutez ces variables
# Certaines sont auto-générées par Railway (DATABASE_URL, REDIS_URL)
# ═══════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════
# 🔐 SÉCURITÉ (OBLIGATOIRE - Générez des clés uniques!)
# ═══════════════════════════════════════════════════════════════════════════
# Générer avec: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=GENERATE_ME_python3_-c_"import_secrets;_print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=GENERATE_ME_python3_-c_"import_secrets;_print(secrets.token_urlsafe(32))"
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ═══════════════════════════════════════════════════════════════════════════
# 🗄️ DATABASE (Railway auto-génère, ou configurez Supabase)
# ═══════════════════════════════════════════════════════════════════════════
# Option 1: Railway PostgreSQL (auto-généré)
# DATABASE_URL=${{Postgres.DATABASE_URL}}

# Option 2: Supabase (IMPORTANT: remplacer postgresql:// par postgresql+asyncpg://)
# DATABASE_URL=postgresql+asyncpg://postgres.[ref]:[password]@aws-0-eu-central-1.pooler.supabase.com:6543/postgres

# Local dev fallback
DATABASE_URL=sqlite+aiosqlite:///./ohmvision.db

# ═══════════════════════════════════════════════════════════════════════════
# 📦 REDIS (Railway auto-génère)
# ═══════════════════════════════════════════════════════════════════════════
# Railway: REDIS_URL=${{Redis.REDIS_URL}}
# Local:
REDIS_URL=redis://localhost:6379/0

# ═══════════════════════════════════════════════════════════════════════════
# 🌐 CONFIGURATION APP
# ═══════════════════════════════════════════════════════════════════════════
DEBUG=false
ENVIRONMENT=production
PYTHONUNBUFFERED=1
APP_NAME=OhmVision
APP_VERSION=1.0.0

# ═══════════════════════════════════════════════════════════════════════════
# 🔗 CORS (IMPORTANT: Ajoutez votre URL Vercel frontend)
# ═══════════════════════════════════════════════════════════════════════════
# Séparez les URLs par des virgules
CORS_ORIGINS=https://ohmvision.vercel.app,https://app.ohmvision.fr,http://localhost:3000,http://localhost:5173

# Pour autoriser les URLs de preview Vercel (optionnel)
CORS_ORIGIN_REGEX=https://.*\\.vercel\\.app$

# URL du frontend pour les liens dans les emails
FRONTEND_URL=https://app.ohmvision.fr

# ═══════════════════════════════════════════════════════════════════════════
# 📧 EMAIL SMTP (Optionnel mais recommandé)
# ═══════════════════════════════════════════════════════════════════════════
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=votre.email@gmail.com
SMTP_PASSWORD=votre-app-password
EMAIL_FROM=noreply@ohmvision.fr

# ═══════════════════════════════════════════════════════════════════════════
# 💳 STRIPE - Paiements (Optionnel)
# ═══════════════════════════════════════════════════════════════════════════
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Prix IDs Stripe (créez-les dans Stripe Dashboard)
STRIPE_PRICE_STARTER=price_starter
STRIPE_PRICE_BUSINESS=price_business
STRIPE_PRICE_ENTERPRISE=price_enterprise
STRIPE_PRICE_PLATINUM=price_platinum

# ═══════════════════════════════════════════════════════════════════════════
# 🤖 IA / LLM (Optionnel mais recommandé)
# ═══════════════════════════════════════════════════════════════════════════
ANTHROPIC_API_KEY=sk-ant-...
OPENAI_API_KEY=sk-...

# ═══════════════════════════════════════════════════════════════════════════
# 🗃️ SUPABASE (Si vous utilisez Supabase Auth/Storage)
# ═══════════════════════════════════════════════════════════════════════════
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIs...

# ═══════════════════════════════════════════════════════════════════════════
# 📁 STOCKAGE
# ═══════════════════════════════════════════════════════════════════════════
UPLOAD_DIR=/app/uploads
MAX_UPLOAD_SIZE=104857600

# ═══════════════════════════════════════════════════════════════════════════
# 📊 MONITORING (Optionnel)
# ═══════════════════════════════════════════════════════════════════════════
SENTRY_DSN=
PROMETHEUS_ENABLED=false
